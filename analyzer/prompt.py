# analyzer/prompts.py
"""AI分析提示词管理"""

# 文章分析主提示词 - 简化版
ARTICLE_ANALYSIS_PROMPT = """
请分析以下{institution}在{date}发布的债券市场观点文章：

文章内容：{content}

请按以下要求分析：

1. 基本面及通胀：提取文章中关于经济数据、通胀走势的观点
2. 资金面：提取关于流动性、资金利率、央行操作的观点
3. 货币及财政政策：提取政策相关的分析和预期
4. 机构行为：提取关于机构配置、交易行为的观点
5. 海外及其他：提取海外市场、其他因素的影响分析

6. 利率债态度判断：
   - 10Y国债：看多/看空/中性（震荡）/文章未涉及
   - 5Y国债：看多/看空/中性（震荡）/文章未涉及
   - 如果文章明确提到具体收益率区间，请标注，否则不要推测

7. 整体观点：用一句话总结文章的核心观点

请严格按照以下JSON格式返回：
{{
    "基本面及通胀": "观点内容，控制在200字以内",
    "资金面": "观点内容，控制在200字以内",
    "货币及财政政策": "观点内容，控制在200字以内",
    "机构行为": "观点内容，控制在200字以内",
    "海外及其他": "观点内容，控制在200字以内",
    "10Y国债态度": "看多/看空/中性/文章未涉及",
    "10Y预测区间": "如xx.xx%-xx.xx%，如无明确预测则填写'文章未涉及'",
    "5Y国债态度": "看多/看空/中性/文章未涉及",
    "5Y预测区间": "如xx.xx%-xx.xx%，如无明确预测则填写'文章未涉及'",
    "整体观点": "一句话核心观点总结"
}}
"""

# 市场总结报告提示词 - 新版本
SUMMARY_REPORT_PROMPT = """
根据以下{total_count}篇债券市场分析文章，生成一份500字左右的市场观点内参：

机构态度统计：
10Y国债：看多{bullish_10y}家，看空{bearish_10y}家，中性{neutral_10y}家
5Y国债：看多{bullish_5y}家，看空{bearish_5y}家，中性{neutral_5y}家

各维度观点汇总：
基本面及通胀：{fundamental_views}
资金面：{liquidity_views}
货币及财政政策：{policy_views}
机构行为：{institutional_views}
海外及其他：{overseas_views}

请按以下格式生成报告：

【今日观点内参】

● 偏多逻辑：共性：（提炼看多机构的共同逻辑，包含关键数据）

● 中性逻辑：共性：（提炼中性机构的共同逻辑）

● 偏空逻辑：共性：（提炼看空机构的共同逻辑，包含关键数据）

● 主要观点：
1）基本面及通胀：（整合主要观点，包含具体数据）
2）资金面：（整合主要观点，包含DR007等关键利率）
3）货币及财政政策：（整合主要观点）
4）机构行为：（整合主要观点）
5）海外及其他：（整合主要观点）

要求：
1. 总长度500字左右
2. 必须包含具体数据
3. 语言专业、观点明确
"""
